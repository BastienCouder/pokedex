name: Build Workflow

# D√©clencheur : Ce workflow s'ex√©cute sur les push et pull requests vers la branche "main"
on:
    push:
        branches:
            - main
    pull_request:
        branches:
            - main
jobs:
    build:
        runs-on: windows-latest
        steps:
            # Checkout du code source depuis le d√©p√¥t GitHub
            - name: Git checkout
              uses: actions/checkout@v4

            # Configuration de l'environnement Node.js avec mise en cache des d√©pendances
            - name: Use Node.js
              uses: actions/setup-node@v4
              with:
                  node-version: 20
                  cache: 'npm'

            # Installation des d√©pendances avec npm
            - name: Install dependencies
              run: npm ci

            #  Ex√©cution de Prettier pour v√©rifier le formatage du code
            - name: Run Prettier
              run: npm run format

            # Ex√©cution d'ESLint pour v√©rifier la qualit√© du code
            - name: Run ESLint
              run: npm run lint

            # V√©rification des types TypeScript pour d√©tecter les erreurs de typage
            - name: Check TypeScript types
              run: npm run type-check

            # Compilation du projet (build)
            - name: Build project
              run: npm run build

            #  Affichage d'un message confirmant le succ√®s du job
            - run: echo "üéâ The job was automatically triggered by a ${{ github.event_name }}"
